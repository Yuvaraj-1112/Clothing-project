<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yuv clothing</title>
    <link rel="stylesheet" href="design/profile.css">
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const userData = JSON.parse(localStorage.getItem("userProfile"));

            if (!userData) {
                window.location.href = "signpage.html";
                return;
            }

            document.getElementById("profile-name").innerText = userData.name;
            document.getElementById("profile-mobile").innerText = userData.mobile;
            document.getElementById("profile-dob").innerText = userData.dob;
            document.getElementById("profile-gender").innerText = userData.gender;
            document.getElementById("profile-address").innerText = userData.address;
            document.getElementById("profile-location").innerText = userData.location;
            document.getElementById("profile-city").innerText = userData.city;
            document.getElementById("profile-pincode").innerText = userData.pincode;

            // Load Profile Picture if available
            const profilePic = userData.profilePic || "design/profile-placeholder.png";
            document.getElementById("profile-pic").src = profilePic;
        });

        function logout() {
            localStorage.removeItem("userProfile");
            window.location.href = "signpage.html";
        }

        function editProfile() {
            const userData = JSON.parse(localStorage.getItem("userProfile"));
            if (!userData) return;

            document.getElementById("edit-name").value = userData.name;
            document.getElementById("edit-mobile").value = userData.mobile;
            document.getElementById("edit-dob").value = userData.dob;
            document.getElementById("edit-gender").value = userData.gender;
            document.getElementById("edit-address").value = userData.address;
            document.getElementById("edit-location").value = userData.location;
            document.getElementById("edit-city").value = userData.city;
            document.getElementById("edit-pincode").value = userData.pincode;

            document.querySelector(".profile-card").style.display = "none";
            document.querySelector(".edit-profile-card").style.display = "block";
        }

        function saveProfile() {
            const updatedData = {
                name: document.getElementById("edit-name").value,
                mobile: document.getElementById("edit-mobile").value,
                dob: document.getElementById("edit-dob").value,
                gender: document.getElementById("edit-gender").value,
                address: document.getElementById("edit-address").value,
                location: document.getElementById("edit-location").value,
                city: document.getElementById("edit-city").value,
                pincode: document.getElementById("edit-pincode").value,
                profilePic: localStorage.getItem("profilePic") || "design/profile-placeholder.png"
            };

            localStorage.setItem("userProfile", JSON.stringify(updatedData));

            document.querySelector(".profile-card").style.display = "block";
            document.querySelector(".edit-profile-card").style.display = "none";

            window.location.reload();
        }

        function previewImage(event) {
            const reader = new FileReader();
            reader.onload = function () {
                const profileImage = document.getElementById("edit-profile-pic");
                profileImage.src = reader.result;
                localStorage.setItem("profilePic", reader.result);
            };
            reader.readAsDataURL(event.target.files[0]);
        }
    </script>
</head>
<body>

    <section id="header">
        <a href="#"><img src="design/img/logo/logoheader2.png" alt="website-logo"></a>
        <div>
          <ul id="navbar">
              <li ><a href="homepage.html">Home</a></li>
              <li><a href="shoppage.html">Shop</a></li>
              <li><a href="offerpage.html">Offer</a></li>
              <li><a href="cartpage.html"><i class="fas fa-shopping-cart fa-lg"></i></a></li>
              <li class="separator"></li>
              <li class="active"><a href="profile.html"><i class="fas fa-user fa-lg"></i></a></li>
          </ul>
        </div>
    </section>

    <div class="profile-container">
        <!-- Profile Display -->
        <div class="profile-card">
            <img id="profile-pic" src="design/profile-placeholder.png" alt="Profile Picture" class="profile-pic">
            <h2 id="profile-name"></h2>
            <p><strong>Mobile:</strong> <span id="profile-mobile"></span></p>
            <p><strong>Date of Birth:</strong> <span id="profile-dob"></span></p>
            <p><strong>Gender:</strong> <span id="profile-gender"></span></p>
            <p><strong>Address:</strong> <span id="profile-address"></span></p>
            <p><strong>Location:</strong> <span id="profile-location"></span></p>
            <p><strong>City:</strong> <span id="profile-city"></span></p>
            <p><strong>Pincode:</strong> <span id="profile-pincode"></span></p>
            <button onclick="editProfile()">Edit Profile</button>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <!-- Profile Edit Form -->
        <div class="edit-profile-card" style="display: none;">
            <h2>Edit Profile</h2>
            <img id="edit-profile-pic" src="design/profile-placeholder.png" class="profile-pic">
            <input type="file" accept="image/*" onchange="previewImage(event)">
            <input type="text" id="edit-name" placeholder="Name">
            <input type="tel" id="edit-mobile" placeholder="Mobile">
            <input type="date" id="edit-dob">
            <input type="text" id="edit-gender" placeholder="Gender">
            <input type="text" id="edit-address" placeholder="Address">
            <input type="text" id="edit-location" placeholder="Location">
            <input type="text" id="edit-city" placeholder="City">
            <input type="text" id="edit-pincode" placeholder="Pincode">
            <button onclick="saveProfile()">Save</button>
        </div>
    </div>


    <footer style="background-color: #ffffff; padding: 20px;">
        <hr>
        <div style="display: flex; flex-wrap: wrap; justify-content: space-between; align-items: flex-start;">
            <div style="display: flex; flex-direction: column; text-align: left;">
                <img class="Logo" src="design/img/logo/logofoot.png" alt="Yuv Clothing Logo" style="width: 150px; height: 150px; ">
                <div>
                    <h3>Contact us</h3>
                    <p><b>Address:</b> No:10, Thillai Nagar 11th cross, Thillai Nagar, Trichy</p>
                    <p><b>E-mail: </b>yuvclothing@gmail.com</p>
                    <p><b>Phone:</b> (+91) 63830 48080 / (+91) 88259 13453</p>
                </div>
            </div>
            <div style="display: flex; flex-direction: column; text-align: left; margin-left: 200px; margin-top: 8vh;">
                <h3>About</h3>
                <a href="#">About Us</a>   
                <a href="#">Company Info</a>
                <a href="#">Carrier</a>
                <a href="#">Stories</a>
                <a href="#">Media</a>
                <a href="#">Corprate Info</a>             
            </div>
            <div style="display: flex; flex-direction: column; text-align: left; margin-left: 200px; margin-top: 8vh;">
                <h3>Customer Policy</h3>
                <a href="#">Cancellations & Returns</a>   
                <a href="#">Terms of use</a>
                <a href="#">Security</a>
                <a href="#">Privacy Policy</a>
                <a href="#">ERP complainces</a>
                <a href="#">Terms and Conditions</a>             
            </div>
            <div style="flex: 1; margin-left: 120px; margin-top: 8vh; text-align: center;">
                <h3>Follow us</h3>
                <a href="https://facebook.com" target="_blank" style="margin: 0 10px; color: #3b5998;">
                    <i class="fab fa-facebook fa-2x"></i>
                </a>
                <a href="https://instagram.com" target="_blank" style="margin: 0 10px; color: #E1306C;">
                    <i class="fab fa-instagram fa-2x"></i>
                </a>
                <a href="https://x.com" target="_blank" style="margin: 0 10px; color: black;">
                    <i class="fab fa-x-twitter fa-2x"></i>
                </a> 
                <a href="https://youtube.com" target="_blank" style="margin: 0 10px; color: #FF0000;">
                    <i class="fab fa-youtube fa-2x"></i>
                </a>
            </div>
        </div>
        <div style="text-align: center; margin-top: 8vh;">
            <p>&copy; 2024 Yuv Clothing. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>
